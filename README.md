## Проект по Анализу данных 
## Тема "Анализ популярности игр на основе данных обзоров портала IGN"  (предварительная)

<u>**Шаг 1. Выбор темы**</u>

тут что-то про то, почему я выбрала эту тему

    Почему решила делать одна:

    1) Когда огласили условие, что каждый член команды должен понимать и уметь объяснить каждую строчку кода, 
    я сразу поняла, что буду делатб всё одна. Я не готова сидеть и долго объяснять свой код другим, 
    или вникать в то, как пишут мои друзья (я знаю как они пишут, и мне не нравится)
    Мне кажется безопаснее сделать самому, чтобы если уж руинить, то самостоятельно.
    
    2) Если я буду делать все этапы сама, я смогу лучше разобраться теме, и больше шансов, что я запомню все этапы
    и смогу в будущем применять эти знания

<u>**Шаг 2. Сбор данных**</u>

Давайте начнем с самого начала.
Первым делом я пошла на сайт https://www.kaggle.com/datasets/joebeachcapital/ign-games/data?select=ign.csv и просто забрала оттуда датасет
Далее мне нужно было его обогатить, поскольку там данные только про игры до 2016 года. Я отправилась на сайт https://www.ign.com/reviews. 

* см. Файл parsing_links

Я решила парсить сайт со всеми обзорами, а не только игровыми, так как страница с игровыми обзорами не парсилась дальше 17-ой страницы. 
Я не смогла найти решение, поэтому пошла через главную страницу. Через fake_useragent получается обмануть сайт, тут не пришлось выдумывать каких-то сложных масок.

Далее я столкнулась с проблемой - сайт не имеет явных страниц, его надо прокручивать. Немного поборовшись с ним, получилось сделать то, что мне нужно.
Но возникла новая проблема - сайт парсится долго, а сколько конкретно мне нужно прокруток я не знаю. Поставила 600 наугад, потому что вручную прокрутить и проверить было бы еще сложнее
В итоге я смогла собрать данные по всем недостающим мне годам (получилось, что дата обзора не совпадала с датой выхода, что, наверное, должно было быть очевидно,
так что у меня появилось 5352 новых ссылок, которые покрыли вообще все годы с 1994 до 2024)

* см. файл ign_links_more.txt. Тут все ссылки, которые удалось получить
* Исходный датасет в файле ign.csv

Теперь из всех ссылок надо составить единый датасет. 

* см. файл making_df.py

Для того, чтобы почистить датасет от всех НЕигр я делала кучу дополнительных проверок. 
Фишку про трансформирование с json string  посмотрела тут  https://ru-brightdata.com/blog/how-tos-ru/parse-json-data-with-python
На все пустые места ставила "---", чтобы потом зачесть их как пропуски и вообще убрать из датасета.
Много раз идет пофторение 

```
platform_data = np.append(platform_data, "---")
year_data = np.append(year_data, "---")
month_data = np.append(month_data, "---")
```
Но я не придумала, как сделать это красивее.
Суммарно парсила сайт 2 дня. Финальный парсинг занял 4 часа.

* Все данные были перенесены в файл try_more_data.csv. Теперь надо влить ее в основной датасет



**<span style="color: green">ВАЖНО: Помогите пожалуйста, мой датасет почему-то не хочет работать, если я убираю из него строку с заголовком (у меня он продублировался при сливании в общий файл)
Что делать?</span>**



<u>**Шаг 3. Предварительная обработка**</u>

* см. файл final_big_dataset.py
* файл ign_data.py нужен чтобы зафиксировать уникальные платформы и жанры

В этом файле я сливаю оба датасета (исходный и спаршенный) в один, в файл total_data_set.csv
Еще раз чищу все данные, убираю повторения, пропуски, и лишние стобцы в исходном датасете. Далее просто проверяю, что файл открывается и читается без пропука строк.

Какие признаки я взяла: Название, Жанр, Платформа, Счет (оценка), Месяц и Год выпуска. Брала их по двум причинам:
- В исходном датасете есть колонки: url, score_phrase и editors_choice, которые, как мне кажется, никак не обогащают датасет
- Я не смогла понять, как и откуда с сайта IGN напарсить editors_choice, поэтому я просто не могу его добавить.

Я предпочла удалять строки с любым количеством пропусков, по двум причинам:
- Если данные отсутствуют - это не обзор компьютерной игры, а фильма, 
  статьи или настольной игры (следовательно все такие варианты я сразу отсеила в рамках "Фильтрации данных")
- В моем датасете ставить в пропуски средние значение - некорректно. Как можно поставить среднее из игровых платформ? 
  Или среднюю оценку игр? Цель моего исследования найти возможную взаимосвязь 
  между датой выхода, жанром, оценкой и платформой. Делать эти значения рандомными = "средними" - это означает испортить выборку


Итого в моём датасете будет 21415 строк. Исходный датасет был обогащен на 6635 строк
Ссылок получилось меньше (около 5к), так как у некоторых игр по несколько жанров - а значит и строк

<u>**Шаг 4. Визуализация**</u>

* см. Файл Step4
* 



<u>**Шаг 5. Создание новых признаков**</u>

* см. файл Step5
* файл total_data_set - куда я в финале загружу новые признаки
* файл total_data_try - куда я в делаю пробные загрузки, чтобы не заруинить свой основной датасет и сэкономить время.

<u>Какие хочу добавить  признаки?</u>

* Я добавила рейтинг жанра игры - "Game_genre_rate". Я вычислила отношение оценки игры к средней оценке для ее жанра.
Таким образом я хотела понять, насколько хорошо игра оценивается по сравнению с другими играми того же жанра.
  * Пока я добавила только его. Получилось как я задумывала: коэффициент меньше 1 - значит игра хуже среднего, больше 1 - лучше среднего. Но мне кажется получалось не особо красиво. Я не знаю. как сделать красивее:(
* Я хочу добавить относительную популярность жанра на платформе. Я вычислю долю игр каждого жанра на каждой платформе.
Это даст вам представление о том, какие жанры наиболее популярны на разных платформах и как эти предпочтения различаются.
* Я хочу добавить относительную оценку жанра на платформе. Я вычислю среднюю оценку для каждого жанра на каждой платформе,
а затем разделю ее на среднюю оценку по всем жанрам на этой платформе, чтобы посмотреть, какие жанры получают относительно высокие или низкие оценки на разных платформах.

Пока первого признака нет в основном датасете, чтобы потом я могла влить все три новых сразу

Я надеюсь эти признаки будут действительно полезными и помогут мне с моими гипотезами. Кстати о них

<u>**Шаг 6. Гипотезы**</u>

<u>Какие есть гипотезы?</u>
* 